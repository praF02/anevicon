language: rust

rust:
  - stable

# We want to see a call stack if something has failed to examine
# what happened, so set `RUST_BACKTRACE`
env:
  - RUST_BACKTRACE=1
  - CARGO_PATH="/home/gymmasssorla/.cargo/bin/cargo"
  
before_script:
# We want to check for any warnings and errors in this crate, so
# install Clippy:
  - rustup component add clippy

script:
  - ${CARGO_PATH} build --all --verbose

# Let Clippy also check the tests and non-default crate features
# to ensure that the code is correct
  - ${CARGO_PATH} clippy --all --all-targets --all-features
  - sudo ${CARGO_PATH} test --all
